<script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.4.0/model-viewer.min.js"></script>

<style>
  model-viewer {
    width: 100%;
    height: 500px;
    background-color: #f0f0f0;
  }
</style>

<model-viewer
  id="mv"
  src="mars_glb-opt.glb"
  ios-src="toy_biplane_realistic.usdz"
  ar
  ar-scale="auto"  autoplay
  camera-controls
  shadow-intensity="1"
  alt="A 3D model">
  
  <button slot="ar-button"
    style="background:white;border-radius:4px;border:none;position:absolute;top:16px;right:16px;padding:10px;">
    ðŸ‘‹ à¹€à¸£à¸´à¹ˆà¸¡à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ AR
  </button>
</model-viewer>

<script>
  const mv = document.getElementById('mv');

  // à¸•à¸£à¸§à¸ˆ iOS/Safari
  const ua = navigator.userAgent || navigator.vendor || window.opera;
  const isIOS = /iPad|iPhone|iPod/.test(ua);
  const isSafari = /^((?!chrome|android).)*safari/i.test(ua);

  if (isIOS && isSafari) {
    // à¸šà¸±à¸‡à¸„à¸±à¸šà¹ƒà¸Šà¹‰ Quick Look
    mv.setAttribute('ar-modes', 'quick-look');
  } else {
    // Android / à¸­à¸·à¹ˆà¸™ à¹† à¹ƒà¸Šà¹‰ WebXR à¸à¹ˆà¸­à¸™
    mv.setAttribute('ar-modes', 'webxr');
  }

  // à¹€à¸œà¸·à¹ˆà¸­à¸à¸£à¸“à¸µà¸•à¹‰à¸­à¸‡à¸šà¸±à¸‡à¸„à¸±à¸šà¹€à¸¥à¹ˆà¸™ animation à¸«à¸¥à¸±à¸‡à¹‚à¸«à¸¥à¸”
  mv.addEventListener('load', () => {
    try { mv.play(); } catch(e) {}
  });
</script>
