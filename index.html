<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Mars AR - Interactive</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.4.0/model-viewer.min.js"></script>
    <style>
      body { margin: 0; overflow: hidden; background-color: #000; }
      model-viewer { width: 100%; height: 100vh; }
      
      /* ‡∏õ‡∏£‡∏±‡∏ö Overlay ‡πÉ‡∏´‡πâ‡∏î‡∏π‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏õ‡∏∏‡πà‡∏°‡∏ó‡∏µ‡πà‡∏Å‡∏î‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á‡πÜ */
      #instructions {
        position: absolute;
        top: 0; left: 0; width: 100%; height: 100%;
        display: flex; flex-direction: column;
        justify-content: center; align-items: center;
        color: white;
        text-align: center;
        font-family: sans-serif;
        background: rgba(0,0,0,0.4); /* ‡∏°‡∏∑‡∏î‡∏•‡∏á‡∏ô‡∏¥‡∏î‡∏´‡∏ô‡πà‡∏≠‡∏¢‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏î‡πà‡∏ô */
        z-index: 10;
        cursor: pointer;
      }
    </style>
  </head>
  <body>

    <div id="instructions">
      <h1 style="margin:0; font-size: 60px;">üî¥</h1>
      <p style="font-size: 20px;">‡πÅ‡∏ï‡∏∞‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏™‡πÅ‡∏Å‡∏ô‡∏û‡∏∑‡πâ‡∏ô<br><span style="font-size: 14px; opacity: 0.7;">(‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏•‡πâ‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏™‡∏µ‡∏¢‡∏á)</span></p>
    </div>

    <audio id="ar-sound" src="VENUS_Master.mp3" loop></audio>

    <model-viewer 
      id="my-ar-model"
      src="VENUS_Master.mp3" 
      ar 
      ar-modes="webxr scene-viewer quick-look" 
      ar-placement="floor"
      camera-controls 
      shadow-intensity="1"
      exposure="1.5"
      environment-image="neutral"
      scale="0.2 0.2 0.2"> 
      </model-viewer>

    <script>
        const modelViewer = document.querySelector('#my-ar-model');
        const overlay = document.querySelector('#instructions');
        const sound = document.querySelector('#ar-sound');

        const forcePlay = () => {
            if (modelViewer.availableAnimations.length > 0) {
                // ‡∏ñ‡πâ‡∏≤‡πÅ‡∏≠‡∏ô‡∏¥‡πÄ‡∏°‡∏ä‡∏±‡∏ô‡∏´‡∏¢‡∏∏‡∏î‡∏≠‡∏¢‡∏π‡πà ‡πÉ‡∏´‡πâ‡∏™‡∏±‡πà‡∏á‡πÄ‡∏•‡πà‡∏ô
                if (modelViewer.paused) {
                    modelViewer.play();
                }
            }
        };

        overlay.addEventListener('click', () => {
            if (modelViewer.canActivateAR) {
                modelViewer.activateAR();
            }
            forcePlay();
            overlay.style.display = 'none';
        }, { once: true });

        modelViewer.addEventListener('ar-status', (event) => {
            if (event.detail.status === 'session-started') {
                setTimeout(forcePlay, 1000); // ‡∏£‡∏≠‡πÉ‡∏´‡πâ AR ‡∏ô‡∏¥‡πà‡∏á‡∏Å‡πà‡∏≠‡∏ô‡∏Ñ‡πà‡∏≠‡∏¢‡∏™‡∏±‡πà‡∏á‡πÄ‡∏•‡πà‡∏ô
            }
        });

        // ‡πÉ‡∏ô‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞‡∏ó‡∏µ‡πà‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏ñ‡∏π‡∏Å‡∏ß‡∏≤‡∏á‡∏ö‡∏ô‡∏û‡∏∑‡πâ‡∏ô
        modelViewer.addEventListener('object-placed', () => {
            sound.play().then(() => {
                console.log("‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏î‡∏±‡∏á‡πÅ‡∏•‡πâ‡∏ß!");
            }).catch(e => {
                console.log("‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏¢‡∏±‡∏á‡πÄ‡∏•‡πà‡∏ô‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏û‡∏£‡∏≤‡∏∞:", e);
            });
            
            forcePlay(); // ‡∏™‡∏±‡πà‡∏á‡πÅ‡∏≠‡∏ô‡∏¥‡πÄ‡∏°‡∏ä‡∏±‡∏ô‡πÄ‡∏•‡πà‡∏ô
        });

        // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ó‡∏∏‡∏Å 2 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ (‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏±‡∏ô‡∏´‡∏¢‡∏∏‡∏î)
        setInterval(forcePlay, 2000);
    </script>
  </body>
</html>