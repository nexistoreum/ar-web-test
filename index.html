<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Mars AR - Interactive</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.4.0/model-viewer.min.js"></script>
    <style>
      body { margin: 0; overflow: hidden; background-color: #000; }
      model-viewer { width: 100%; height: 100vh; }
      
      /* ‡∏õ‡∏£‡∏±‡∏ö Overlay ‡πÉ‡∏´‡πâ‡∏î‡∏π‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏õ‡∏∏‡πà‡∏°‡∏ó‡∏µ‡πà‡∏Å‡∏î‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á‡πÜ */
      #instructions {
        position: absolute;
        top: 0; left: 0; width: 100%; height: 100%;
        display: flex; flex-direction: column;
        justify-content: center; align-items: center;
        color: white;
        text-align: center;
        font-family: sans-serif;
        background: rgba(0,0,0,0.4); /* ‡∏°‡∏∑‡∏î‡∏•‡∏á‡∏ô‡∏¥‡∏î‡∏´‡∏ô‡πà‡∏≠‡∏¢‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏î‡πà‡∏ô */
        z-index: 10;
        cursor: pointer;
      }
    </style>
  </head>
  <body>

    <div id="instructions">
      <h1 style="margin:0; font-size: 60px;">üî¥</h1>
      <p style="font-size: 20px;">‡πÅ‡∏ï‡∏∞‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏™‡πÅ‡∏Å‡∏ô‡∏û‡∏∑‡πâ‡∏ô<br><span style="font-size: 14px; opacity: 0.7;">(‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏•‡πâ‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏™‡∏µ‡∏¢‡∏á)</span></p>
    </div>

    <audio id="ar-sound" src="VENUS_Master.mp3" loop></audio>

    <model-viewer 
      id="my-ar-model"
      src="mars_glb-opt.glb" 
      ar 
      ar-modes="webxr scene-viewer quick-look" 
      ar-placement="floor"
      camera-controls 
      shadow-intensity="1"
      exposure="1.5"
      environment-image="neutral"
      scale="0.2 0.2 0.2"
      autoplay> </model-viewer>

    <script>
        const modelViewer = document.querySelector('#my-ar-model');
        const overlay = document.querySelector('#instructions');
        const sound = document.querySelector('#ar-sound');

        overlay.addEventListener('click', () => {
            // 1. ‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Å‡πÄ‡∏™‡∏µ‡∏¢‡∏á (‡πÄ‡∏•‡πà‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏¢‡∏∏‡∏î‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï)
            sound.play().then(() => {
                sound.pause();
                sound.currentTime = 0;
            }).catch(e => console.log("Audio unlock error:", e));

            // 2. ‡∏™‡∏±‡πà‡∏á‡πÄ‡∏•‡πà‡∏ô Animation ‡∏Ç‡∏≠‡∏á‡πÇ‡∏°‡πÄ‡∏î‡∏•
            modelViewer.play();

            // 3. ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡πÇ‡∏´‡∏°‡∏î AR
            if (modelViewer.canActivateAR) {
                modelViewer.activateAR();
            }
            
            overlay.style.display = 'none';
        }, { once: true });

        // ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ß‡∏≤‡∏á‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏ö‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡πÅ‡∏•‡πâ‡∏ß ‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏à‡∏£‡∏¥‡∏á‡∏à‡∏±‡∏á
        modelViewer.addEventListener('object-placed', () => {
            sound.play();
            modelViewer.play(); // ‡∏¢‡πâ‡∏≥‡∏≠‡∏µ‡∏Å‡∏£‡∏≠‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à
        });
    </script>
  </body>
</html>