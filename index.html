<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Mars AR - Interactive</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.4.0/model-viewer.min.js"></script>
    <style>
      body { margin: 0; overflow: hidden; background-color: #000; }
      model-viewer { width: 100%; height: 100vh; }
      
      /* ‡∏õ‡∏£‡∏±‡∏ö Overlay ‡πÉ‡∏´‡πâ‡∏î‡∏π‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏õ‡∏∏‡πà‡∏°‡∏ó‡∏µ‡πà‡∏Å‡∏î‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á‡πÜ */
      #instructions {
        position: absolute;
        top: 0; left: 0; width: 100%; height: 100%;
        display: flex; flex-direction: column;
        justify-content: center; align-items: center;
        color: white;
        text-align: center;
        font-family: sans-serif;
        background: rgba(0,0,0,0.4); /* ‡∏°‡∏∑‡∏î‡∏•‡∏á‡∏ô‡∏¥‡∏î‡∏´‡∏ô‡πà‡∏≠‡∏¢‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏î‡πà‡∏ô */
        z-index: 10;
        cursor: pointer;
      }
    </style>
  </head>
  <body>

    <div id="instructions">
      <h1 style="margin:0; font-size: 60px;">üî¥</h1>
      <p style="font-size: 20px;">‡πÅ‡∏ï‡∏∞‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏™‡πÅ‡∏Å‡∏ô‡∏û‡∏∑‡πâ‡∏ô<br><span style="font-size: 14px; opacity: 0.7;">(‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏•‡πâ‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏™‡∏µ‡∏¢‡∏á)</span></p>
    </div>

    <audio id="ar-sound" src="VENUS_Master.mp3" loop></audio>

    <model-viewer 
        id="my-ar-model"
        src="mars_glb-opt.glb" 
        ar 
        ar-modes="webxr scene-viewer quick-look" 
        ar-placement="floor"
        camera-controls 
        shadow-intensity="1"
        exposure="1.5"             environment-image="neutral" autoplay                
        animation-name="All Animations"
        auto-rotate
        scale="0.5 0.5 0.5"> 
    </model-viewer>

    <script>
      const modelViewer = document.querySelector('#my-ar-model');
      const overlay = document.querySelector('#instructions');
      const sound = document.querySelector('#ar-sound');

      // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏±‡πà‡∏á‡πÉ‡∏´‡πâ‡πÅ‡∏≠‡∏ô‡∏¥‡πÄ‡∏°‡∏ä‡∏±‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
      const startAnimation = () => {
        if (modelViewer.availableAnimations.length > 0) {
          modelViewer.animationName = 'All Animations';
          modelViewer.play();
          console.log("Animation started!");
        }
      };

      // 1. ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡∏ó‡∏µ‡πà‡πÇ‡∏´‡∏•‡∏î‡πÇ‡∏°‡πÄ‡∏î‡∏•‡πÄ‡∏™‡∏£‡πá‡∏à ‡πÉ‡∏´‡πâ‡∏•‡∏≠‡∏á‡∏™‡∏±‡πà‡∏á‡πÄ‡∏•‡πà‡∏ô‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
      modelViewer.addEventListener('load', () => {
        startAnimation();
      });

      // 2. ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ (‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤ AR/‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏™‡∏µ‡∏¢‡∏á) ‡πÉ‡∏´‡πâ‡∏™‡∏±‡πà‡∏á‡πÄ‡∏•‡πà‡∏ô‡∏ã‡πâ‡∏≥‡∏≠‡∏µ‡∏Å‡∏£‡∏≠‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏±‡∏ß‡∏£‡πå
      overlay.addEventListener('click', () => {
        // ‡πÄ‡∏Ç‡πâ‡∏≤‡πÇ‡∏´‡∏°‡∏î AR
        if (modelViewer.canActivateAR) {
          modelViewer.activateAR();
        }

        // ‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏™‡∏µ‡∏¢‡∏á
        sound.play().catch(e => console.log("Audio play failed:", e));

        // ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡πÄ‡∏•‡πà‡∏ô‡πÅ‡∏≠‡∏ô‡∏¥‡πÄ‡∏°‡∏ä‡∏±‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á (‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏£‡∏ì‡∏µ‡πÅ‡∏£‡∏Å‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô)
        startAnimation();

        // ‡∏ã‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥
        overlay.style.display = 'none';
      }, { once: true });

      // 3. ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ö‡∏≤‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà‡πÇ‡∏´‡∏•‡∏î‡∏ä‡πâ‡∏≤‡∏°‡∏≤‡∏Å ‡πÉ‡∏´‡πâ‡πÄ‡∏ä‡πá‡∏Å‡∏ó‡∏∏‡∏Å 1 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ‡∏à‡∏ô‡∏Å‡∏ß‡πà‡∏≤‡πÅ‡∏≠‡∏ô‡∏¥‡πÄ‡∏°‡∏ä‡∏±‡∏ô‡∏à‡∏∞‡πÄ‡∏•‡πà‡∏ô
      const checkAnim = setInterval(() => {
        if (modelViewer.availableAnimations.length > 0 && !modelViewer.paused) {
          startAnimation();
          clearInterval(checkAnim); // ‡πÄ‡∏•‡πà‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏´‡πâ‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏ä‡πá‡∏Å
        }
      }, 1000);
    </script>
  </body>
</html>