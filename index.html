<!DOCTYPE html>
<html lang="en">
  <head>
    <title>My WebAR Project</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.4.0/model-viewer.min.js"></script>
    <style>
      body { margin: 0; }
      model-viewer { width: 100%; height: 100vh; background-color: #f0f0f0; }
      .ar-button {
        background-color: #ffffff; border-radius: 4px; border: none;
        position: absolute; bottom: 16px; right: 16px; padding: 12px;
        font-family: sans-serif; font-weight: bold; cursor: pointer;
      }
    </style>
  </head>
  <body>

    <model-viewer 
        id="my-ar-model"
        src="earth_glb-opt.glb" 
        ar 
        ar-modes="webxr scene-viewer quick-look" 
        camera-controls 
        auto-rotate             shadow-intensity="1" 
        alt="3D Earth Model"
        style="background-color: #000;">
    </model-viewer>
    <script>
        // 2. ทันทีที่โหลดหน้าเว็บเสร็จ ถ้าผู้ใช้แตะที่ไหนก็ได้บนหน้าจอ ให้เด้งเข้า AR ทันที
        document.addEventListener('click', () => {
            const modelViewer = document.querySelector('#my-ar-model');
            
            // เช็คว่าตอนนี้อยู่ในโหมด AR หรือยัง ถ้ายังให้สั่งเปิดเลย
            if (modelViewer.canActivateAR) {
            modelViewer.activateAR();
            }
        }, { once: true }); // ทำงานแค่ครั้งเดียวตอนแตะครั้งแรก
    </script>
  </body>
</html>